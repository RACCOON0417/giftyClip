{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport HomeScreen from \"./App\";\nvar API_KEY = 'AIzaSyDsFSET6AdqTZc2Sak-LZF-WpSFB6Ti1wM';\nvar API_URL = \"https://vision.googleapis.com/v1/images:annotate?key=\" + API_KEY;\n\nfunction generateBody(image) {\n  var body = {\n    requests: [{\n      image: {\n        content: image\n      },\n      features: [{\n        type: 'TEXT_DETECTION',\n        maxResults: 1\n      }]\n    }]\n  };\n  return body;\n}\n\nfunction callGoogleVisionAsync(image) {\n  var body, response, result, detectedText;\n  return _regeneratorRuntime.async(function callGoogleVisionAsync$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          body = generateBody(image);\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch(API_URL, {\n            method: 'POST',\n            headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(body)\n          }));\n\n        case 3:\n          response = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 6:\n          result = _context.sent;\n          detectedText = result.responses[0].fullTextAnnotation;\n          console.log(result.responses[0].fullTextAnnotation.text);\n          setInputData();\n          return _context.abrupt(\"return\", detectedText ? detectedText : {\n            text: \"This image doesn't contain any text!\"\n          });\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nexport default callGoogleVisionAsync;","map":{"version":3,"names":["HomeScreen","API_KEY","API_URL","generateBody","image","body","requests","content","features","type","maxResults","callGoogleVisionAsync","fetch","method","headers","Accept","JSON","stringify","response","json","result","detectedText","responses","fullTextAnnotation","console","log","text","setInputData"],"sources":["C:/Users/ES58/Documents/GitHub/2022HCI-giftyClip/helperFunctions.js"],"sourcesContent":["import HomeScreen from './App'\r\n\r\nconst API_KEY = 'AIzaSyDsFSET6AdqTZc2Sak-LZF-WpSFB6Ti1wM'; //put your key here.\r\n//this endpoint will tell Google to use the Vision API. We are passing in our key as well.\r\nconst API_URL = `https://vision.googleapis.com/v1/images:annotate?key=${API_KEY}`;\r\n\r\nfunction generateBody(image) {\r\n    const body = {\r\n        requests: [{\r\n            image: {\r\n                content: image,\r\n            },\r\n            features: [{\r\n                type: 'TEXT_DETECTION', //we will use this API for text detection purposes.\r\n                maxResults: 1,\r\n            }, ],\r\n        }, ],\r\n    };\r\n    return body;\r\n}\r\n\r\nasync function callGoogleVisionAsync(image) {\r\n    const body = generateBody(image); //pass in our image for the payload\r\n    const response = await fetch(API_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body),\r\n    });\r\n    const result = await response.json();\r\n    const detectedText = result.responses[0].fullTextAnnotation;\r\n    console.log(result.responses[0].fullTextAnnotation.text);\r\n    setInputData();\r\n    return detectedText ?\r\n        detectedText :\r\n        {\r\n            text: \"This image doesn't contain any text!\"\r\n        };\r\n}\r\nexport default callGoogleVisionAsync;"],"mappings":";AAAA,OAAOA,UAAP;AAEA,IAAMC,OAAO,GAAG,yCAAhB;AAEA,IAAMC,OAAO,6DAA2DD,OAAxE;;AAEA,SAASE,YAAT,CAAsBC,KAAtB,EAA6B;EACzB,IAAMC,IAAI,GAAG;IACTC,QAAQ,EAAE,CAAC;MACPF,KAAK,EAAE;QACHG,OAAO,EAAEH;MADN,CADA;MAIPI,QAAQ,EAAE,CAAC;QACPC,IAAI,EAAE,gBADC;QAEPC,UAAU,EAAE;MAFL,CAAD;IAJH,CAAD;EADD,CAAb;EAWA,OAAOL,IAAP;AACH;;AAED,SAAeM,qBAAf,CAAqCP,KAArC;EAAA;EAAA;IAAA;MAAA;QAAA;UACUC,IADV,GACiBF,YAAY,CAACC,KAAD,CAD7B;UAAA;UAAA,iCAE2BQ,KAAK,CAACV,OAAD,EAAU;YAClCW,MAAM,EAAE,MAD0B;YAElCC,OAAO,EAAE;cACLC,MAAM,EAAE,kBADH;cAEL,gBAAgB;YAFX,CAFyB;YAMlCV,IAAI,EAAEW,IAAI,CAACC,SAAL,CAAeZ,IAAf;UAN4B,CAAV,CAFhC;;QAAA;UAEUa,QAFV;UAAA;UAAA,iCAUyBA,QAAQ,CAACC,IAAT,EAVzB;;QAAA;UAUUC,MAVV;UAWUC,YAXV,GAWyBD,MAAM,CAACE,SAAP,CAAiB,CAAjB,EAAoBC,kBAX7C;UAYIC,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACE,SAAP,CAAiB,CAAjB,EAAoBC,kBAApB,CAAuCG,IAAnD;UACAC,YAAY;UAbhB,iCAcWN,YAAY,GACfA,YADe,GAEf;YACIK,IAAI,EAAE;UADV,CAhBR;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA;;AAoBA,eAAef,qBAAf"},"metadata":{},"sourceType":"module"}